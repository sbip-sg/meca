<!doctype html>
<html>
  <head>
    <title>Transaction API</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      body { margin: 0; padding: 0; }
    </style>
  </head>
  <body>
    <redoc
           
           
           
           
           
           
           
           
           
           >
    </redoc>

    <script src="../../_static/redoc.js"></script>
    
    <script type="application/json" id="spec">
    {"openapi": "3.0.2", "info": {"title": "Full Node - Transaction", "version": "0.1.0"}, "paths": {"/record_task": {"post": {"tags": ["task"], "summary": "Record Task", "description": "For users to record a task's offload or completion. This calculates the fee, updates the balance of the host and client, and returns the fee charged.", "operationId": "record_task_record_task_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RecordTaskRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}, {"HTTPBearer": []}, {"HTTPBearer": []}]}}, "/update_task": {"post": {"tags": ["task"], "summary": "Update Task", "description": "For users to update a task's offload or completion. This calculates the fee and updates the balance of the host and client, and returns the fee charged.", "operationId": "update_task_update_task_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateTaskRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}, {"HTTPBearer": []}, {"HTTPBearer": []}]}}, "/find_client_history": {"post": {"tags": ["history"], "summary": "Find Client History", "operationId": "find_client_history_find_client_history_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DIDModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Find Client History Find Client History Post", "type": "array", "items": {"$ref": "#/components/schemas/DidRecord"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}, {"HTTPBearer": []}]}}, "/find_host_history": {"post": {"tags": ["history"], "summary": "Find Host History", "operationId": "find_host_history_find_host_history_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DIDModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Find Host History Find Host History Post", "type": "array", "items": {"$ref": "#/components/schemas/DidRecord"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}, {"HTTPBearer": []}]}}, "/find_po_history": {"post": {"tags": ["history"], "summary": "Find Po History", "description": "Finds all entries that has either given did = client's PO DID or host's PO DID.", "operationId": "find_po_history_find_po_history_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DIDModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Find Po History Find Po History Post", "type": "array", "items": {"$ref": "#/components/schemas/PoDidRecord"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}, {"HTTPBearer": []}]}}, "/add_dummy_history": {"post": {"tags": ["history"], "summary": "Add Dummy History", "description": "For testing. All fields optional.", "operationId": "add_dummy_history_add_dummy_history_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddDummyHistoryRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}}, "components": {"schemas": {"AddDummyHistoryRequest": {"title": "AddDummyHistoryRequest", "type": "object", "properties": {"client_did": {"title": "Client Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "client_po_did": {"title": "Client Po Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "host_did": {"title": "Host Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "host_po_did": {"title": "Host Po Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}}}, "DIDModel": {"title": "DIDModel", "required": ["did"], "type": "object", "properties": {"did": {"title": "Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}}}, "DidRecord": {"title": "DidRecord", "required": ["price"], "type": "object", "properties": {"transaction_id": {"title": "Transaction Id", "maxLength": 255, "minLength": 1, "type": "string", "default": "0", "example": "0001"}, "resource_cpu": {"title": "Resource Cpu", "minimum": 0.0, "type": "integer", "default": 0, "example": 2}, "resource_memory": {"title": "Resource Memory", "minimum": 0.0, "type": "integer", "default": 0, "example": 256}, "transaction_start_datetime": {"title": "Transaction Start Datetime", "minimum": 0.0, "type": "integer", "default": 0, "example": 1694563200}, "transaction_end_datetime": {"title": "Transaction End Datetime", "minimum": 0.0, "type": "integer", "default": 0, "example": 1694649600}, "task_name": {"title": "Task Name", "maxLength": 255, "minLength": 1, "type": "string", "default": "", "example": "task1"}, "duration": {"title": "Duration", "minimum": 0.0, "type": "integer", "default": 0, "example": 100}, "network_reliability": {"title": "Network Reliability", "maximum": 100.0, "minimum": 0.0, "type": "integer", "default": 0, "example": 100}, "price": {"title": "Price", "type": "number"}}}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "PoDidRecord": {"title": "PoDidRecord", "required": ["price", "did", "po_did", "host_did", "host_po_did"], "type": "object", "properties": {"transaction_id": {"title": "Transaction Id", "maxLength": 255, "minLength": 1, "type": "string", "default": "0", "example": "0001"}, "resource_cpu": {"title": "Resource Cpu", "minimum": 0.0, "type": "integer", "default": 0, "example": 2}, "resource_memory": {"title": "Resource Memory", "minimum": 0.0, "type": "integer", "default": 0, "example": 256}, "transaction_start_datetime": {"title": "Transaction Start Datetime", "minimum": 0.0, "type": "integer", "default": 0, "example": 1694563200}, "transaction_end_datetime": {"title": "Transaction End Datetime", "minimum": 0.0, "type": "integer", "default": 0, "example": 1694649600}, "task_name": {"title": "Task Name", "maxLength": 255, "minLength": 1, "type": "string", "default": "", "example": "task1"}, "duration": {"title": "Duration", "minimum": 0.0, "type": "integer", "default": 0, "example": 100}, "network_reliability": {"title": "Network Reliability", "maximum": 100.0, "minimum": 0.0, "type": "integer", "default": 0, "example": 100}, "price": {"title": "Price", "type": "number"}, "did": {"title": "Did", "type": "string"}, "po_did": {"title": "Po Did", "type": "string"}, "host_did": {"title": "Host Did", "type": "string"}, "host_po_did": {"title": "Host Po Did", "type": "string"}}}, "RecordTaskRequest": {"title": "RecordTaskRequest", "required": ["client_did", "client_po_did", "host_did", "host_po_did", "task_metadata"], "type": "object", "properties": {"client_did": {"title": "Client Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "client_po_did": {"title": "Client Po Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "host_did": {"title": "Host Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "host_po_did": {"title": "Host Po Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "task_metadata": {"$ref": "#/components/schemas/TaskMetadataInput"}}}, "Resources": {"title": "Resources", "type": "object", "properties": {"cpu": {"title": "Cpu", "minimum": 0.0, "type": "integer", "default": 0, "example": 2}, "memory": {"title": "Memory", "minimum": 0.0, "type": "integer", "default": 0, "example": 256}}}, "TaskMetadataInput": {"title": "TaskMetadataInput", "required": ["resource_consumed"], "type": "object", "properties": {"transaction_id": {"title": "Transaction Id", "maxLength": 255, "minLength": 1, "type": "string", "default": "0", "example": "0001"}, "resource_consumed": {"$ref": "#/components/schemas/Resources"}, "transaction_start_datetime": {"title": "Transaction Start Datetime", "minimum": 0.0, "type": "integer", "default": 0, "example": 1694563200}, "transaction_end_datetime": {"title": "Transaction End Datetime", "minimum": 0.0, "type": "integer", "default": 0, "example": 1694649600}, "task_name": {"title": "Task Name", "maxLength": 255, "minLength": 1, "type": "string", "default": "", "example": "task1"}, "duration": {"title": "Duration", "minimum": 0.0, "type": "integer", "default": 0, "example": 100}, "network_reliability": {"title": "Network Reliability", "maximum": 100.0, "minimum": 0.0, "type": "integer", "default": 0, "example": 100}}}, "UpdateTaskRequest": {"title": "UpdateTaskRequest", "required": ["client_did", "client_po_did", "task_metadata"], "type": "object", "properties": {"client_did": {"title": "Client Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "client_po_did": {"title": "Client Po Did", "type": "string", "example": "did:meca:0x0fa21fd3d11d2cd5e6cdef2c7cd6531a25a5964f"}, "task_metadata": {"$ref": "#/components/schemas/TaskMetadataInput"}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}}, "securitySchemes": {"HTTPBearer": {"type": "http", "scheme": "bearer"}}}}
    </script>
    
    <script>
        
        var spec = JSON.parse(document.getElementById("spec").innerHTML);
        
        Redoc.init(spec);
    </script>
  </body>
</html>